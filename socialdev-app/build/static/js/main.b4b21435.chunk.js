(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,r){e.exports=r(291)},125:function(e,t,r){},127:function(e,t,r){},136:function(e,t){e.exports=function(e){e.forEach(function(e){var t=e.key,r=e.value,a=e.type,n=e.optional;switch(a){case String:if(n&&null===r)break;if("string"!==typeof r)throw TypeError("".concat(r," is not a string"));if(!r.trim().length)throw new Error("".concat(t," is empty or blank"));break;case Boolean:if(n&&null===r)break;if("boolean"!==typeof r)throw TypeError("".concat(r," is not a boolean"));break;case Number:if(n&&null===r)break;if("number"!==typeof r)throw TypeError("".concat(r," is not a number"))}})}},137:function(e,t,r){},179:function(e,t,r){},181:function(e,t,r){},183:function(e,t,r){},185:function(e,t,r){},189:function(e,t,r){},191:function(e,t,r){},193:function(e,t,r){},195:function(e,t,r){},197:function(e,t,r){},199:function(e,t,r){},2:function(e,t,r){(function(t){t.sessionStorage=r(129);var a=r(136),n={_userId:sessionStorage.getItem("userId")||null,_token:sessionStorage.getItem("token")||null,url:"NO-URL",_changeDate:function(e,t){var r=new Date(e);return"meeting"===t?"".concat(r.getDate(),"-").concat(r.getMonth(),"-").concat(r.getFullYear()," at ").concat(r.getHours(),":").concat(r.getMinutes(),":").concat(r.getSeconds()):"".concat(r.getDate(),"-").concat(r.getMonth(),"-").concat(r.getFullYear())},registerUser:function(e,t,r,a){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if("string"!==typeof t)throw TypeError("".concat(t," is not a string"));if(null===t.match(/^(([^<>()\[\]\\.,;:\s@\u201c]+(\.[^<>()\[\]\\.,;:\s@\u201c]+)*)|(\u201c.+\u201c))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))throw Error("".concat(t," is an invalid email"));if("string"!==typeof r)throw TypeError("".concat(r," is not a string"));if("string"!==typeof a)throw TypeError("".concat(a," is not a string"));if(!e.trim())throw Error("name is empty or blank");if(!t.trim())throw Error("email is empty or blank");if(!r.trim())throw Error("username is empty or blank");if(!a.trim())throw Error("password is empty or blank");return fetch("".concat(this.url,"/users"),{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({name:e,email:t,username:r,password:a})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},authenticate:function(e,t){var r=this;if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if("string"!==typeof t)throw TypeError("".concat(t," is not a string"));if(!e.trim())throw Error("username is empty or blank");if(!t.trim())throw Error("password is empty or blank");return fetch("".concat(this.url,"/auth"),{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({username:e,password:t})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error);var t=e.data,a=t.id,n=t.token;return r._userId=a,r._token=n,sessionStorage.setItem("userId",a),sessionStorage.setItem("token",n),e})},get loggedIn(){return!!this._userId},get userId(){return this._userId},logout:function(){this._userId=null,this._token=null,sessionStorage.removeItem("userId"),sessionStorage.removeItem("token")},retrieveUserProfile:function(e){return fetch("".concat(this.url,"/user-profile/").concat(e||this._userId),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error);return e.data})},updateProfile:function(e,t,r,n,o){return a([{key:"id",value:e,type:String},{key:"bio",value:n,type:String,optional:!0},{key:"githubProfile",value:r,type:String,optional:!0},{key:"city",value:t,type:String,optional:!0},{key:"skills",value:o,type:Array,optional:!0}]),fetch("".concat(this.url,"/user-profile/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(this._token)},body:JSON.stringify({city:t,githubProfile:r,bio:n,skills:o})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},listOwnProjects:function(e){return fetch("".concat(this.url,"/users/projects/").concat(e||this._userId),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error);return e.data})},listCollaboratingProjects:function(e){return fetch("".concat(this.url,"/users/").concat(e||this._userId,"/collaborating"),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error);return e.data})},saveProject:function(e){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/").concat(e,"/save"),{method:"POST",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},removeSavedProject:function(e){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/").concat(e,"/save"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},listSavedProjects:function(){return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/save"),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error);return e.data})},addNewProject:function(e,t,r,a,n){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if("string"!==typeof t)throw TypeError("".concat(t," is not a string"));if(!(r instanceof Array))throw TypeError("".concat(r," is not an array"));if("string"!==typeof a)throw TypeError("".concat(a," is not a string"));if("string"!==typeof n)throw TypeError("".concat(n," is not a string"));if(!e.trim())throw Error("name is empty or blank");if(!t.trim())throw Error("description is empty or blank");if(!a.trim())throw Error("maxMembers is empty or blank");if(!n.trim())throw Error("location is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects"),{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(this._token)},body:JSON.stringify({name:e,description:t,skills:r,maxMembers:a,location:n})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},filterProjects:function(e){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("query is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/filter/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error);return e.data})},retrieveProjectInfo:function(e){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("projectid is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/project/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error);return e.data})},listProjectMeetings:function(e){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("projectid is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/").concat(e,"/meetings"),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error);return e.data.forEach(function(e){e.realDate=new Date(e.date),e.listDate=n._changeDate(e.date,"meeting")}),e.data})},attendMeetings:function(e){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("meetingId is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/").concat(e,"/meetings"),{method:"PUT",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},userUpcomingMeetings:function(e){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("id is empty or blank");return fetch("".concat(this.url,"/users/").concat(e||this._userId,"/meetings"),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error);return e.data})},handleCollaboration:function(e,t,r){if("string"!==typeof t)throw TypeError("".concat(t," is not a string"));if(!t.trim())throw Error("decision is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/").concat(e,"/collaborator"),{method:"PATCH",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(this._token)},body:JSON.stringify({decision:t,collaboratorId:r})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},removeCollaborator:function(e,t){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("collaboratid is empty or blank");if("string"!==typeof t)throw TypeError("".concat(t," is not a string"));if(!t.trim())throw Error("projectId is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/").concat(t,"/removecollaborator"),{method:"PATCH",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(this._token)},body:JSON.stringify({collaboratorId:e})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},retrievePendingCollaboratorProjects:function(e){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("id is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId||e,"/pendingcollaborators"),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error);return e.data})},deleteMeeting:function(e){return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/meetings/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},attendMeeting:function(e){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("meetingId is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/meetings/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},retrieveMeetingInfo:function(e){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("meetingId is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/meeting/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error);return e.data})},unAttendMeeting:function(e){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("meetingId is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/meetings/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},deleteProject:function(e,t){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if("string"!==typeof t)throw TypeError("".concat(t," is not a string"));if(!e.trim())throw Error("userId is empty or blank");if(!t.trim())throw Error("projectId is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/deleteproject/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},leaveProject:function(e){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("projectId is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/").concat(e,"/leave"),{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},requestCollaboration:function(e,t){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if("string"!==typeof t)throw TypeError("".concat(t," is not a string"));if(!e.trim())throw Error("projectId is empty or blank");if(!t.trim())throw Error("collaboratorId is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/").concat(e,"/collaborator"),{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(this._token)},body:JSON.stringify({collaboratorId:t})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},cancelCollaborationRequest:function(e,t){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if("string"!==typeof t)throw TypeError("".concat(t," is not a string"));if(!e.trim())throw Error("projectId is empty or blank");if(!t.trim())throw Error("collaboratorId is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/").concat(e,"/collaborator"),{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(this._token)},body:JSON.stringify({collaboratorId:t})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},addMeeting:function(e,t,r,a,n){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if("string"!==typeof t)throw TypeError("".concat(t," is not a string"));if(!(r instanceof Date))throw TypeError("".concat(r," is not a date"));if("string"!==typeof a)throw TypeError("".concat(a," is not a string"));if("string"!==typeof n)throw TypeError("".concat(n," is not a string"));if(!e.trim())throw Error("userId is empty or blank");if(!t.trim())throw Error("projectId is empty or blank");if(!a.trim())throw Error("location is empty or blank");if(!n.trim())throw Error("description is empty or blank");if(new Date>r)throw Error("cannot create a meeting in the past");return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/").concat(t,"/meetings"),{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(this._token)},body:JSON.stringify({startDate:r,location:a,description:n})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},addProfileImage:function(e){var t=new FormData;return t.append("avatar",e),fetch("".concat(this.url,"/users/").concat(this._userId,"/photo"),{method:"POST",headers:{Authorization:"Bearer ".concat(this._token)},body:t}).then(function(e){return e.json()}).then(function(e){})},addProjectImage:function(e,t){var r=new FormData;return r.append("avatar",e),fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/").concat(t,"/photo"),{method:"POST",headers:{Authorization:"Bearer ".concat(this._token)},body:r}).then(function(e){return e.json()}).then(function(e){return e.data})},retrieveProfileImage:function(e,t,r){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("id is empty or blank");return fetch("".concat(this.url,"/users/").concat(e,"/photo/width/").concat(t,"/height/").concat(r),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error);return e.data})},retrieveProjectImage:function(e,t){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("id is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/projects/").concat(t,"/photos"),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error);return e.data})},findConversation:function(e){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("receiverId is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/chat/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error);return e.data})},sendMessage:function(e,t,r){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("senderId is empty or blank");if("string"!==typeof t)throw TypeError("".concat(t," is not a string"));if(!t.trim())throw Error("Why are you sending a blank message?");if("string"!==typeof r)throw TypeError("".concat(r," is not a string"));if(!r.trim())throw Error("Why are you sending a blank message?");return fetch("".concat(this.url,"/users/").concat(this._userId,"/message"),{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(this._token)},body:JSON.stringify({receiverId:t,text:r})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error)})},listMessages:function(e){if("string"!==typeof e)throw TypeError("".concat(e," is not a string"));if(!e.trim())throw Error("user2Id is empty or blank");return fetch("".concat(this.url,"/users/").concat(this._userId,"/message/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw Error(e.error);return e.data})},listConversations:function(){var e=this;return fetch("".concat(this.url,"/users/").concat(this._userId,"/chats"),{method:"GET",headers:{Authorization:"Bearer ".concat(this._token)}}).then(function(e){return e.json()}).then(function(t){if(t.error)throw Error(t.error);return t.data.map(function(t){var r=t.members.filter(function(t){return t.id!==e._userId});return r.push({conversationId:t.id,pendingMessages:t.pendingMessages,lastMessage:new Date(t.messages[t.messages.length-1].sent)}),r})})}};e.exports=n}).call(this,r(44))},203:function(e,t,r){},207:function(e,t,r){},230:function(e,t,r){},232:function(e,t,r){},234:function(e,t,r){},236:function(e,t,r){},279:function(e,t,r){},281:function(e,t,r){},283:function(e,t,r){},291:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(16),c=r.n(o),s=(r(125),r(4)),i=r(5),l=r(8),u=r(6),m=r(7),h=(r(127),r(114)),p=r(52),d=r(113),f=r(112),g=r(2),E=r.n(g),b=(r(137),r(3)),v=function(e){return n.a.createElement("div",null,n.a.createElement("div",{className:"top-area-landing"},n.a.createElement("div",{className:"img-container"},n.a.createElement("div",{className:"title-container"},n.a.createElement("h1",null,"SocialDev"),n.a.createElement("div",{className:"buttons-container"},n.a.createElement(b.Button,{color:"blue",onClick:e.onLoginClick},"Login"),n.a.createElement(b.Button,{color:"blue",onClick:e.onRegisterClick},"Register"))))),n.a.createElement("div",{className:"app-info"},n.a.createElement("div",{className:"app-info__detail explore"},n.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}),n.a.createElement("h2",null,"Find a project that you would like to collaborate in")),n.a.createElement("div",{className:"app-info__detail meet"},n.a.createElement("i",{className:"fa fa-group","aria-hidden":"true"}),n.a.createElement("h2",null,"Meet like-minded colleagues ")),n.a.createElement("div",{className:"app-info__detail develop"},n.a.createElement("i",{className:"fa fa-code","aria-hidden":"true"}),n.a.createElement("h2",null,"Do what you know best and make cool projects!"))))},y=(r(179),function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={name:"",email:"",username:"",password:""},r.handleSubmit=function(e){e.preventDefault();var t=r.state,a=t.name,n=t.email,o=t.username,c=t.password;r.props.onRegister(a,n,o,c)},r.handleNameChange=function(e){var t=e.target.value;r.setState({name:t})},r.handleEmailChange=function(e){var t=e.target.value;r.setState({email:t})},r.handleUsernameChange=function(e){var t=e.target.value;r.setState({username:t})},r.handlePasswordChange=function(e){var t=e.target.value;r.setState({password:t})},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"background-container"},n.a.createElement("section",{className:"form-container"},n.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},n.a.createElement("input",{className:"input-group-text form__input",placeholder:"name",type:"text",onChange:this.handleNameChange}),n.a.createElement("input",{className:"input-group-text form__input",placeholder:"email",type:"text",onChange:this.handleEmailChange}),n.a.createElement("input",{className:"input-group-text form__input",placeholder:"username",type:"text",onChange:this.handleUsernameChange}),n.a.createElement("input",{className:"input-group-text form__input",placeholder:"password",type:"password",onChange:this.handlePasswordChange}),n.a.createElement(b.Button,{color:"blue",type:"submit"},"Register")),n.a.createElement("p",{className:"go-back"},"Already have an account? ",n.a.createElement("button",{onClick:this.props.onSkipToLogin,className:"go-back__button",type:"button"},"Log in"))))}}]),t}(a.Component)),j=(r(181),function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={username:"",password:""},r.handleSubmit=function(e){e.preventDefault();var t=r.state,a=t.username,n=t.password;r.props.onLogin(a,n)},r.handleUsernameChange=function(e){var t=e.target.value;r.setState({username:t})},r.handlePasswordChange=function(e){var t=e.target.value;r.setState({password:t})},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"background-container"},n.a.createElement("section",{className:"form-container"},n.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},n.a.createElement("input",{className:"input-group-text form__input",placeholder:"username",type:"text",onChange:this.handleUsernameChange}),n.a.createElement("input",{className:"input-group-text form__input",placeholder:"password",type:"password",onChange:this.handlePasswordChange}),n.a.createElement(b.Button,{color:"blue",type:"submit"},"Log in")),n.a.createElement("p",{className:"go-back"},"Don't have an account? ",n.a.createElement("button",{onClick:this.props.onSkipToRegister,className:"go-back__button",type:"button"},"Sign up"))))}}]),t}(a.Component)),k=(r(183),function(e){return n.a.createElement("div",{className:"alert alert-danger"},n.a.createElement("strong",null,e.message,"!"))}),C=(r(185),r(15)),S=(r(187),r(51)),w=(r(189),function(e){var t=e.skill,r=e.searchTag,a=e.viewerSkills;return a&&t?n.a.createElement("button",{onClick:function(){return r(t)},className:a.includes(t)?"skills-tag-match":"skills-tag",type:"button"},t):t?n.a.createElement("button",{onClick:function(){return r(t)},className:"skills-tag",type:"button"},t):null}),N=(r(191),Object(f.a)(function(e){var t=e.project,r=e.searchTag,a=e.addToFavourites,o=e.userId,c=e.from;return t?n.a.createElement(b.Card,{style:{width:"profile"===c||"home"===c?"19rem":"16rem",margin:"20px"}},n.a.createElement(b.CardImage,{className:"img-fluid",src:t.projectImage,style:{height:"180px",width:"100%"},waves:!0}),n.a.createElement(b.CardBody,null,n.a.createElement(b.CardTitle,null,t.name),n.a.createElement("p",null,"Location: ",t.location),t.skills.map(function(e,t){return n.a.createElement(w,{searchTag:r,key:t,skill:e,pill:!0})}),n.a.createElement("div",{className:"card-bottom-area"},n.a.createElement(S.a,{to:"/project/".concat(t.id)},n.a.createElement(b.Button,{color:"primary",type:"button"},"View Project")),t.owner!==o&&!t.collaborators.some(function(e){return e.id!==o})&&t.userSavedProjects&&n.a.createElement("button",{className:"project-card-save-button",onClick:function(){return a(t.id,t.userSavedProjects.includes(t.id)?"remove":"add")}},n.a.createElement("i",{className:t.userSavedProjects.includes(t.id)?"fa fa-heart":"fa fa-heart-o","aria-hidden":"true"}))))):null})),I=function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={isChecked:!1},r.toggleCheckboxChange=function(){var e=r.props,t=e.handleCheckboxChange,a=e.label;r.setState(function(e){return{isChecked:!e.isChecked}}),t(a)},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=this.props.selected[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){a.value===this.props.label&&this.setState({isChecked:!0})}}catch(o){t=!0,r=o}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}}},{key:"render",value:function(){var e=this.props.label,t=this.state.isChecked;return n.a.createElement("div",{className:"checkbox"},n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",value:e,checked:t,onChange:this.toggleCheckboxChange}),e))}}]),t}(a.Component),P=(r(193),["Angular","C-Sharp","Java","Javascript","Mongoose","PHP","Python","React","Ruby","SQL","Swift","Vue"]),T=function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",description:"",maxMembers:"1",error:!1,toggleSuccess:!1,location:""},r.handleSubmit=function(e){e.preventDefault();var t=[],a=!0,n=!1,o=void 0;try{for(var c,s=r.selectedCheckboxes[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var i=c.value;t.push(i)}}catch(d){n=!0,o=d}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}var l=r.state,u=l.name,m=l.description,h=l.maxMembers,p=l.location;try{return E.a.addNewProject(u,m,t,h,p).then(function(){return r.setState({error:!1,toggleSuccess:!r.state.toggleSuccess})}).then(function(){return r.props.backToMyProject()}).catch(function(e){return r.setState({error:e.message})})}catch(d){r.setState({error:d.message})}},r.componentWillMount=function(){r.selectedCheckboxes=new Set},r.toggleCheckbox=function(e){r.selectedCheckboxes.has(e)?r.selectedCheckboxes.delete(e):r.selectedCheckboxes.add(e)},r.onProjectNameChange=function(e){var t=e.target.value;r.setState({name:t,error:!1})},r.onProjectDescriptionChange=function(e){var t=e.target.value;r.setState({description:t,error:!1})},r.onMaxMembersChange=function(e){var t=e.target.value;r.setState({maxMembers:t,error:!1})},r.onLocationChange=function(e){var t=e.target.value;r.setState({location:t,error:!1})},r.renderDropDown=function(){return[0,1,2,3,4,5,6,7,8,9,10].map(function(e,t){return n.a.createElement("option",{key:t,disabled:0===t&&"disabled",value:e},e)})},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"newproject-container"},this.state.error&&n.a.createElement(k,{message:this.state.error}),n.a.createElement("div",{className:"row"},n.a.createElement("section",{className:"create-project-form-section col-8 form-group"},n.a.createElement("form",{className:"create-project-form",onSubmit:this.handleSubmit},n.a.createElement("label",{className:"create-project__name-label"},"What will your project's name be?"),n.a.createElement("input",{onChange:this.onProjectNameChange,type:"text",id:"exampleForm2",className:"form-control"}),n.a.createElement("br",null),n.a.createElement("label",{className:"create-project__description-label"},"Describe who should join, and what you aim to achieve"),n.a.createElement("textarea",{onChange:this.onProjectDescriptionChange,className:"form-control",rows:"5",id:"comment"}),n.a.createElement("label",{className:"create-project__select-label"},"In what city will your meetings be hosted?"),n.a.createElement("br",null),n.a.createElement("input",{onChange:this.onLocationChange,type:"text",id:"exampleForm2",className:"form-control"}),n.a.createElement("br",null),n.a.createElement("label",{className:"create-project__select-label"},"What is the maximum amount of members you would like to allow?"),n.a.createElement("br",null),n.a.createElement("select",{className:"create-project__select form-control",onChange:this.onMaxMembersChange,value:this.state.maxMembers,name:"agent",id:"agent"},this.renderDropDown())," ",n.a.createElement("br",null),n.a.createElement("label",{className:"create-project__technologies-label"},"What technologies will your project include?"),n.a.createElement("div",{className:"create-project__skills-checkboxes"},P.map(function(t){return n.a.createElement(I,{label:t,handleCheckboxChange:e.toggleCheckbox,key:t,selected:e.selectedCheckboxes})})),n.a.createElement(b.Button,{type:"submit",color:"primary"},"Save changes")),this.state.error?n.a.createElement("p",null,"You must complete all the fields"):null,this.state.toggleSuccess?n.a.createElement("p",null,"Project added"):null)))}}]),t}(a.Component),x=function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={tabIndex:0,collabProjects:null,ownProjects:null,savedProjects:null,user:!1,error:!1},r.sendToMyProjects=function(){try{return E.a.listOwnProjects().then(function(e){return r.setState({ownProjects:e,tabIndex:0,error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(e){r.setState({error:e.message})}},r.handleTabChange=function(e){try{switch(e){case 0:E.a.listOwnProjects().then(function(t){return r.setState({ownProjects:t,tabIndex:e,error:!1})}).catch(function(e){return r.setState({error:e.message})}),window.scrollTo(0,0);break;case 1:E.a.listCollaboratingProjects().then(function(t){return r.setState({collabProjects:t,tabIndex:e,error:!1})}).catch(function(e){return r.setState({error:e.message})}),window.scrollTo(0,0);break;case 2:E.a.listSavedProjects().then(function(t){return r.setState({savedProjects:t,tabIndex:e,error:!1})}).catch(function(e){return r.setState({error:e.message})}),window.scrollTo(0,0);break;case 3:r.setState({tabIndex:e,error:!1}),window.scrollTo(0,0)}}catch(t){r.setState({error:t.message})}},r.handleSearchTag=function(e){var t="q=&f=".concat(e);r.props.history.push("/explore/".concat(t))},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;try{E.a.listOwnProjects().then(function(t){return e.setState({ownProjects:t,error:!1})}).catch(function(t){return e.setState({error:t.message})})}catch(t){this.setState({error:t.message}).catch(function(t){return e.setState({error:t.message})})}try{E.a.retrieveUserProfile(this.props.userId).then(function(t){e.props.userName(t.name),e.setState({user:t,error:!1})})}catch(t){this.setState({error:t.message})}}},{key:"render",value:function(){var e=this,t=this.state,r=t.collabProjects,a=t.ownProjects,o=t.savedProjects,c=t.user;return n.a.createElement("div",{className:"home-page-container"},this.state.error&&n.a.createElement(k,{message:this.state.error}),n.a.createElement(C.d,{selectedIndex:this.state.tabIndex,onSelect:this.handleTabChange},n.a.createElement(C.b,null,n.a.createElement(C.a,null,"My Projects"),n.a.createElement(C.a,null,"My Collaborations "),n.a.createElement(C.a,null,"Saved Projects"),n.a.createElement(C.a,null,"Create a project")),n.a.createElement(C.c,null,n.a.createElement("div",{className:"home-myprojects-display"},a&&(a.length?a.map(function(t,r){return n.a.createElement(N,{from:"home",userId:e.props.userId,searchTag:e.handleSearchTag,key:r,project:t})}):n.a.createElement("p",{className:"no-projects-text"},"You don't have any projects. Start searching ",n.a.createElement(S.a,{to:"/explore"},"now"))))),n.a.createElement(C.c,null,n.a.createElement("div",{className:"home-collaborations-display"},r&&(r.length?r.map(function(t,r){return n.a.createElement(N,{userId:e.props.userId,savedProjects:c.savedProjects,searchTag:e.handleSearchTag,key:r,project:t})}):n.a.createElement("p",{className:"no-projects-text"},"You don't have any projects. Start searching ",n.a.createElement(S.a,{to:"/explore"},"now"))))),n.a.createElement(C.c,null,n.a.createElement("div",{className:"home-savedprojects-display"},o&&(o.length?o.map(function(t,r){return n.a.createElement(N,{userId:e.props.userId,searchTag:e.handleSearchTag,key:r,project:t})}):n.a.createElement("p",{className:"no-projects-text"},"You don't have any projects. Start searching ",n.a.createElement(S.a,{to:"/explore"},"now"))))),n.a.createElement(C.c,null,n.a.createElement(T,{backToMyProject:this.sendToMyProjects}))))}}]),t}(a.Component),O=Object(f.a)(x),_=(r(195),function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={collapse:!1,pendingCollaborators:null},r.toggle=function(){r.setState({collapse:!r.state.collapse})},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement(b.Button,{color:"primary",onClick:this.toggle,style:{marginBottom:"1rem"}},"Filters"),n.a.createElement(b.Collapse,{isOpen:this.state.collapse},this.props.skills.map(function(t,r){return n.a.createElement(I,{label:t,handleCheckboxChange:e.props.handleCheckboxChange,key:r,selected:e.props.selected})}),n.a.createElement("h1",null,"Filter by city"),n.a.createElement("input",{className:"input-group-text search-city-input",placeholder:"Add a city",type:"text",onChange:this.props.onChange}))))}}]),t}(a.Component)),M=["Angular","C-Sharp","Java","Javascript","Mongoose","PHP","Python","React","Ruby","SQL","Swift","Vue"],A=function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={searchResults:!1,searchQuery:"",cityQuery:"",recommended:"",error:!1},r.componentWillMount=function(){r.selectedCheckboxes=new Set},r.queryListen=function(e){r.setState({searchQuery:e,error:!1})},r.toggleCheckbox=function(e){r.selectedCheckboxes.has(e)?r.selectedCheckboxes.delete(e):r.selectedCheckboxes.add(e)},r.onCityFilterChange=function(e){var t=e.target.value;r.setState({cityQuery:t})},r.onSearchNameQueryChange=function(e){var t=e.target.value;r.setState({searchQuery:t})},r.handleAddToFavourites=function(e,t){try{if("add"===t)return E.a.saveProject(e,r.props.userId).then(function(){return E.a.filterProjects(r.props.query)}).then(function(e){return r.setState({searchResults:e,error:!1})}).catch(function(e){return r.setState({error:e.message})});if("remove"===t)return E.a.removeSavedProject(e,r.props.userId).then(function(){return E.a.filterProjects(r.props.query)}).then(function(e){return r.setState({searchResults:e,error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(a){r.setState({error:a.message})}},r.renderSearchArea=function(){var e=r.state.searchResults;return e?e.length?e.length?e&&e.map(function(e,t){return n.a.createElement(N,{addToFavourites:r.handleAddToFavourites,userId:r.props.userId,searchTag:r.handleSearchTag,key:t,project:e})}):void 0:n.a.createElement("p",null,"No results found for this query :("):n.a.createElement("p",null,"Not sure what to look for? ",n.a.createElement(S.a,{to:"/explore/".concat(r.state.recommended)},"Try some of our suggestions"))},r.handleSubmit=function(e){e.preventDefault();var t=r.state,a=t.searchQuery,n=t.cityQuery,o=[],c=!0,s=!1,i=void 0;try{for(var l,u=r.selectedCheckboxes[Symbol.iterator]();!(c=(l=u.next()).done);c=!0){var m=l.value;o.push(m)}}catch(p){s=!0,i=p}finally{try{c||null==u.return||u.return()}finally{if(s)throw i}}var h="q=".concat(a,"&f=").concat(o.join("+"),"&c=").concat(n);r.props.history.push("/explore/".concat(h))},r.handleSearchTag=function(e){var t="q=&f=".concat(e);r.props.history.push("/explore/".concat(t))},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;try{void 0!==this.props.query?E.a.filterProjects(this.props.query).then(function(t){return e.setState({searchResults:t,error:!1})}).catch(function(t){return e.setState({error:t.message})}):E.a.retrieveUserProfile(this.props.userId).then(function(t){var r=t.skills;if(r.length){var a="q=&f=".concat(r[Math.floor(Math.random()*r.length)],"&c=");e.setState({recommended:a,error:!1})}else{e.setState({recommended:"q=&f=&c=",error:!1})}}).catch(function(t){return e.setState({error:t.message})})}catch(t){this.setState({error:t.message})}}},{key:"componentWillReceiveProps",value:function(e){var t=this;try{void 0!==e.query&&E.a.filterProjects(e.query).then(function(e){t.setState({searchResults:e,error:!1})}).catch(function(e){return t.setState({error:e.message})})}catch(r){this.setState({error:r.message})}}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"explore-container"},this.state.error&&n.a.createElement(k,{message:this.state.error}),n.a.createElement("header",{className:"explore-header col-12"},n.a.createElement("div",{className:"searchbar-container col-md-6 col-xs-12"},n.a.createElement("div",{className:"explore-search-form"},n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("label",{className:"explore-search-form__label"},n.a.createElement("input",{onChange:this.onSearchNameQueryChange,className:"input-group-text explore-searchbar",type:"text",placeholder:"Search by project name","aria-label":"Search"}),n.a.createElement("button",{type:"submit",className:"explore-search-button"},"Search")))))),n.a.createElement("div",{className:"filter-skills-mobile"},n.a.createElement(_,{skills:M,handleCheckboxChange:this.toggleCheckbox,selected:this.selectedCheckboxes,onChange:this.onCityFilterChange})),n.a.createElement("div",{className:"main-explore-area row"},n.a.createElement("div",{className:"filters col-lg-3 col-s-12"},n.a.createElement("h1",null,"What are you looking to learn?"),n.a.createElement("div",{className:"filter-skills"},M.map(function(t,r){return n.a.createElement(I,{label:t,handleCheckboxChange:e.toggleCheckbox,key:r,selected:e.selectedCheckboxes})}),n.a.createElement("h1",null,"Filter by city"),n.a.createElement("input",{className:"input-group-text search-city-input",placeholder:"Add a city",onChange:this.onCityFilterChange,type:"text"}))),n.a.createElement("div",{className:"search-area-container col-lg-8 col-s-12 "},n.a.createElement("div",{className:"search-area  "},this.renderSearchArea()))))}}]),t}(a.Component),B=Object(f.a)(A),D=r(18),L=(r(197),r(199),r(17)),R=r.n(L),U=function(e){var t=e.user,r=e.myProjects,a=e.collabProjects,o=e.showCollabProjects,c=e.projectsStarted,s=e.uploadImage,i=e.userId,l=e.meetings,u=e.numberOfMeetings,m=e.chats,h=e.totalPending;if(t){var p=t.name,d=t.joinDate,f=t.city;return n.a.createElement("div",{className:"col-12 profile-card-container"},n.a.createElement("div",{className:"general-info-container"},n.a.createElement("div",{className:"top-area"},n.a.createElement("div",{className:"top-area-left-section"},n.a.createElement("div",{className:"basic-info"},n.a.createElement("p",null,n.a.createElement("span",null,"Name"),": ",p),n.a.createElement("p",null,n.a.createElement("span",null,"Joined"),": ",n.a.createElement(R.a,{format:"DD/MM/YYYY"},d)),n.a.createElement("p",null,n.a.createElement("span",null,"Location"),": ",f)),i===t.id&&n.a.createElement("form",{encType:"multipart/form-data",onSubmit:s},n.a.createElement("label",{className:"profileImage-upload"},n.a.createElement("input",{type:"file",className:"uploadImage-input",name:"avatar",onChange:s}),"Upload image"))),n.a.createElement("div",{className:"profile-img-container"},n.a.createElement("div",{className:"profile-img-box"},n.a.createElement("img",{className:"profile-img",src:t.profileImage}))))),n.a.createElement("div",{className:"bottom-area"},n.a.createElement("button",{onClick:c,type:"button",className:"profile-card-button",id:"first-button"},"Projects started ",n.a.createElement("br",null)," ",n.a.createElement(b.Badge,{color:"light-blue",pill:!0},r?r.length:0)),i===t.id&&n.a.createElement("button",{onClick:o,type:"button",className:"profile-card-button"},"Projects with pending Collaborators ",n.a.createElement("br",null)," ",n.a.createElement(b.Badge,{color:"light-blue",pill:!0},a?a.length:0)),n.a.createElement("button",{onClick:function(){return l(t.id)},type:"button",className:"profile-card-button"},"Upcoming Meetings ",n.a.createElement("br",null)," ",n.a.createElement(b.Badge,{color:"light-blue",pill:!0},u||0)),i===t.id&&n.a.createElement("button",{onClick:m,type:"button",className:"profile-card-button",id:"last-button"},"Chats ",n.a.createElement("br",null)," New messages: ",n.a.createElement(b.Badge,{color:"light-blue",pill:!0},h||0))))}return null},z=(r(203),r(74)),F=r.n(z),q=r(116),H=(r(207),["Angular","C-Sharp","Java","Javascript","Mongoose","PHP","Python","React","Ruby","SQL","Swift","Vue"]),Y=function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={city:r.props.user?r.props.user.city:"",githubProfile:r.props.user?r.props.user.githubProfile:"",bio:r.props.user?r.props.user.bio:"",skills:[]},r.componentWillMount=function(){var e=r.props.user;r.selectedCheckboxes=new Set,e&&e.skills.forEach(function(e){return r.selectedCheckboxes.add(e)})},r.handleSubmit=function(){var e=Object(q.a)(F.a.mark(function e(t){var a,n,o,c,s,i,l;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),a=[],n=!0,o=!1,c=void 0,e.prev=5,s=r.selectedCheckboxes[Symbol.iterator]();!(n=(i=s.next()).done);n=!0)l=i.value,a.push(l);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),o=!0,c=e.t0;case 13:e.prev=13,e.prev=14,n||null==s.return||s.return();case 16:if(e.prev=16,!o){e.next=19;break}throw c;case 19:return e.finish(16);case 20:return e.finish(13);case 21:return e.next=23,r.props.updateProfile(r.state.city,r.state.githubProfile,r.state.bio,a);case 23:r.props.toggleModal();case 24:case"end":return e.stop()}},e,this,[[5,9,13,21],[14,,16,20]])}));return function(t){return e.apply(this,arguments)}}(),r.onCityChange=function(e){var t=e.target.value;r.setState({city:t})},r.onGithubChange=function(e){var t=e.target.value;r.setState({githubProfile:t})},r.onBioChange=function(e){var t=e.target.value;r.setState({bio:t})},r.toggleCheckbox=function(e){r.selectedCheckboxes.has(e)?r.selectedCheckboxes.delete(e):r.selectedCheckboxes.add(e)},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.user&&!e.toggleModal){var t=e.user,r=t.city,a=t.githubProfile,n=t.bio;this.setState({city:r,githubProfile:a,bio:n})}}},{key:"render",value:function(){var e=this,t=this.state,r=t.city,a=t.githubProfile,o=t.bio;return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("label",null,"City"),n.a.createElement("input",{onChange:this.onCityChange,defaultValue:r,type:"text",id:"exampleForm2",className:"form-control"}),n.a.createElement("label",null,"Github Profile"),n.a.createElement("input",{onChange:this.onGithubChange,defaultValue:a,type:"text",id:"exampleForm2",className:"form-control"}),n.a.createElement("label",null,"Bio"),n.a.createElement("textarea",{onChange:this.onBioChange,defaultValue:o,className:"form-control rounded-0",id:"exampleFormControlTextarea2",rows:"3"}),n.a.createElement("div",{className:"update-profile-checkboxes-display"},H.map(function(t){return n.a.createElement(I,{label:t,handleCheckboxChange:e.toggleCheckbox,key:t,selected:e.selectedCheckboxes})})),n.a.createElement(b.Button,{type:"submit",color:"primary"},"Save changes")))}}]),t}(a.Component),W=function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={modal:!1},r.toggle=function(){r.setState({modal:!r.state.modal})},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.modal,t=this.props,r=t.user,a=t.updateProfile,o=this.toggle;return n.a.createElement(b.Container,null,n.a.createElement("div",{className:"edit-button-container"},n.a.createElement("button",{className:"edit-profile-button",onClick:o},n.a.createElement("i",{className:"fa fa-edit","aria-hidden":"true"})," Edit profile")),n.a.createElement(b.Modal,{isOpen:e,toggle:o},n.a.createElement(b.ModalHeader,{toggle:o},"Edit Profile"),n.a.createElement(b.ModalBody,null,n.a.createElement(Y,{toggleModal:this.toggle,user:r,updateProfile:a})),n.a.createElement(b.ModalFooter,null,n.a.createElement(b.Button,{color:"secondary",onClick:o},"Close")," ")))}}]),t}(a.Component),G=r(56),J=r.n(G),Q=function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={user:null,ownProjects:!1,collabProjects:!1,upComingMeetings:!1,showProjects:"my projects",image:!1,error:!1,loading:!1,chatPopup:!1,chatMessage:"",conversations:!1,totalPending:0},r.sendProfileUpdate=function(e,t,a,n){var o=r.props.id;try{return E.a.updateProfile(o,e,t,a,n).then(function(){return E.a.retrieveUserProfile(o)}).then(function(e){r.setState({user:e,error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(c){r.setState({error:c.message})}},r.handleShowCollabProjects=function(){var e=r.props.id;try{return E.a.retrievePendingCollaboratorProjects(e).then(function(e){return r.setState({collabProjects:e,showProjects:"collab projects",error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(t){r.setState({error:t.message})}},r.handleshowOwnProjects=function(){var e=r.props.id;try{return E.a.listOwnProjects(e).then(function(e){return r.setState({ownProjects:e,showProjects:"my projects",error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(t){r.setState({error:t.message})}},r.handleUpComingMeetings=function(e){try{return E.a.userUpcomingMeetings(e).then(function(e){return r.setState({upComingMeetings:e,showProjects:"meetings",error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(t){r.setState({error:t.message})}},r.handleShowChats=function(){r.setState({showProjects:"chats"})},r.renderTitle=function(){var e=r.state,t=e.user,a=e.showProjects;if(t)return"my projects"===a?n.a.createElement("h1",null,t.name,"'s projects"):"collab projects"===a?n.a.createElement("h1",null,"Projects with pending collaborators"):"meetings"===a?n.a.createElement("h1",null,"Upcoming Meetings"):n.a.createElement("h1",null,"Chats")},r.goToMeetingProject=function(){},r.handleSearchTag=function(e){var t="q=&f=".concat(e);r.props.history.push("/explore/".concat(t))},r.handleChatStart=function(){E.a.findConversation(r.props.id).then(function(e){e?r.props.history.push("/messages/".concat(e.id,"/").concat(r.props.id)):r.setState({chatPopup:!0})})},r.onChatMessageChange=function(e){var t=e.target.value;r.setState({chatMessage:t})},r.handleChatSubmit=function(e){e.preventDefault();var t=Object(D.a)(Object(D.a)(r)),a=t.state.chatMessage,n=t.props,o=n.userId,c=n.id;return E.a.sendMessage(o,c,a).then(function(){return E.a.findConversation(r.props.id)}).then(function(e){return r.props.history.push("/messages/".concat(e.id,"/").concat(r.props.id))})},r.handleUpload=function(e){try{return r.setState({loading:!0}),E.a.addProfileImage(e.target.files[0]).then(function(){return r.setState({loading:!1})}).then(function(){return E.a.retrieveUserProfile(r.props.id).then(function(e){r.setState({user:e,error:!1})})}).catch(function(e){return r.setState({error:e.message})})}catch(t){r.setState({error:t.message})}},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;try{Promise.all([E.a.retrieveUserProfile(t),E.a.retrievePendingCollaboratorProjects(t),E.a.listOwnProjects(t),E.a.retrieveProfileImage(t),E.a.userUpcomingMeetings(t),E.a.listConversations()]).then(function(t){var r=0;t[5].forEach(function(e){return r=e[1].pendingMessages+r}),e.setState({user:t[0],collabProjects:t[1],ownProjects:t[2],image:t[3],upComingMeetings:t[4],conversations:t[5],totalPending:r,error:!1})}).catch(function(t){return e.setState({error:t.message})})}catch(r){this.setState({error:r.message})}}},{key:"componentWillReceiveProps",value:function(e){var t=this,r=e.id;try{Promise.all([E.a.retrieveUserProfile(r),E.a.retrievePendingCollaboratorProjects(r),E.a.listOwnProjects(r),E.a.retrieveProfileImage(r),E.a.userUpcomingMeetings(r),E.a.listConversations()]).then(function(e){var r=0;e[5].forEach(function(e){return r=e[1].pendingMessages+r}),t.setState({user:e[0],collabProjects:e[1],ownProjects:e[2],image:e[3],upComingMeetings:e[4],conversations:e[5],totalPending:r,error:!1,chatPopup:!1})}).catch(function(e){return t.setState({error:e.message})})}catch(a){this.setState({error:a.message})}}},{key:"render",value:function(){var e=this,t=this.state,r=t.user,a=t.ownProjects,o=t.collabProjects,c=t.showProjects,s=t.image,i=t.upComingMeetings,l=t.conversations,u=t.totalPending,m=this.props,h=m.id,p=m.userId;return n.a.createElement("div",{className:"profile-page-container"},this.state.error&&n.a.createElement(k,{message:this.state.error}),n.a.createElement("div",{className:"row"},n.a.createElement("section",{className:"profile-top-area col-md-12  col-lg-4"},n.a.createElement("div",{className:"spinner"},this.state.loading?n.a.createElement(J.a,null):""),n.a.createElement(U,{uploadImage:this.handleUpload,showCollabProjects:this.handleShowCollabProjects,user:r,myProjects:a,projectsStarted:this.handleshowOwnProjects,collabProjects:o,userId:p,profileImage:s,meetings:this.handleUpComingMeetings,numberOfMeetings:i&&i.length,chats:this.handleShowChats,totalPending:u}),n.a.createElement("section",{className:"bio col-12"},n.a.createElement("div",{className:"bio__extra-info col-12"},r&&r.id===p&&n.a.createElement(W,{className:"testt",user:r,updateProfile:this.sendProfileUpdate}),n.a.createElement("p",{className:"bio-paragraph"},n.a.createElement("span",null,"Bio"),":",r&&r.bio),n.a.createElement("p",null,n.a.createElement("span",null,"Github:")," ",n.a.createElement("a",{href:"https://github.com"},r&&r.githubProfile)),n.a.createElement("div",{className:"bio__interests"},n.a.createElement("h2",null,"Interests"),n.a.createElement("div",{className:"skills-tag-container"},r&&r.skills.map(function(t,r){return n.a.createElement(w,{searchTag:e.handleSearchTag,skill:t,key:r})}))))),h!==p?n.a.createElement(b.Button,{color:"primary",onClick:this.handleChatStart}," Chat with ",r&&r.name):null,this.state.chatPopup&&n.a.createElement("div",null,n.a.createElement("p",null,"This is your first message with ",r&&r.name,", make it count!"),n.a.createElement("form",{onSubmit:this.handleChatSubmit},n.a.createElement("textarea",{onChange:this.onChatMessageChange,className:"form-control",rows:"5",id:"comment"}),n.a.createElement("button",{className:"chat-send-button-profile",type:"submit"},"Send")))),n.a.createElement("section",{className:"main-area col-md-12 col-lg-7"},n.a.createElement("div",{className:"main-area__title"},this.renderTitle()),n.a.createElement("div",{className:"main-area__projects"},r&&r.id===p&&a&&"my projects"===c&&(a.length?a.map(function(t,r){return n.a.createElement(N,{from:"profile",searchTag:e.handleSearchTag,key:r,project:t})}):n.a.createElement("p",{className:"no-projects-text"},"You don't have any projects, start one ",n.a.createElement(S.a,{to:"/home"},"now"))),r&&r.id!==p&&a&&"my projects"===c&&(a.length?a.map(function(t,r){return n.a.createElement(N,{from:"profile",searchTag:e.handleSearchTag,key:r,project:t})}):n.a.createElement("p",{className:"no-projects-text"},"This user has not started any projects")),o&&"collab projects"===c&&(o.length?o.map(function(t,r){return n.a.createElement(N,{from:"profile",searchTag:e.handleSearchTag,key:r,project:t})}):n.a.createElement("p",{className:"no-projects-text"},"No pending collaborators")),i&&"meetings"===c&&(i.length?i.map(function(e,t){return n.a.createElement("div",{className:"profile-meetup-card col-md-8",key:t},n.a.createElement("p",null,n.a.createElement("b",null,"Description"),": ",e.description),n.a.createElement("p",null,n.a.createElement("b",null,"Project: "),n.a.createElement(S.a,{to:"/project/".concat(e.project.id)},e.project.name)),n.a.createElement("p",null,n.a.createElement("b",null,"Location"),": ",e.location),n.a.createElement("p",null,n.a.createElement("b",null,"Date"),": ",n.a.createElement(R.a,{format:"DD/MM/YYYY HH:mm"},e.date)),n.a.createElement("p",null,"Attending: ",e.attending.length))}):n.a.createElement("p",{className:"no-projects-text"},"No upcoming meetings")),l&&"chats"===c&&(l.length?l.map(function(e,t){return n.a.createElement("div",{key:t,className:"conversation-card"},n.a.createElement("div",{className:"conversation-img-container"},n.a.createElement("div",{className:"conversation-img-box"},n.a.createElement("img",{className:"conversation-img",alt:"profile",src:e[0].profileImage}))),n.a.createElement(S.a,{to:"/messages/".concat(e[1].conversationId,"/").concat(e[0].id)},e[0].username),n.a.createElement("div",null,n.a.createElement("span",{className:"badge light-blue badge-light-blue badge-pill"},e[1].pendingMessages)))}):n.a.createElement("p",{className:"no-projects-text"},"You don't have any active chats"))))))}}]),t}(a.Component),V=Object(f.a)(Q),Z=(r(230),r(232),function(e){var t=e.pendingCollaborators,r=e.clickName;return t?n.a.createElement("section",{className:"pending-collaborator-card"},n.a.createElement("img",{src:t.profileImage,alt:"profile"}),n.a.createElement("p",{onClick:function(){return r(void 0,t.id)}},t.name),n.a.createElement(b.Button,{type:"button",onClick:function(){return e.accept(t.id)}},"Accept"),n.a.createElement(b.Button,{type:"button",onClick:function(){return e.reject(t.id)}},"Reject")):null}),$=function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={collapse:!1,pendingCollaborators:null},r.toggle=function(){r.setState({collapse:!r.state.collapse})},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.pendingCollabs&&this.setState({pendingCollaborators:e.pendingCollabs})}},{key:"render",value:function(){var e=this,t=this.state.pendingCollaborators;return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement(b.Button,{color:"primary",onClick:this.toggle,style:{marginBottom:"1rem"}},"Pending Collaboration Requests"),n.a.createElement(b.Collapse,{isOpen:this.state.collapse},t&&(t.length?t.map(function(t,r){return n.a.createElement(Z,{clickName:e.props.clickName,key:r,pendingCollaborators:t,accept:e.props.accept,reject:e.props.reject})}):n.a.createElement("p",null,"No collaborators pending")))))}}]),t}(a.Component),K=function(e){var t=e.meeting,r=e.project,a=e.userId,o=e.attendMeeting,c=e.unAttendMeeting;return t&&r?n.a.createElement("div",{className:"meeting-actions row"},n.a.createElement("div",{className:"meeting-details col-8"},n.a.createElement("p",null,n.a.createElement("span",null,"Date"),": ",n.a.createElement(R.a,{format:"DD/MM/YYYY"},t.date)),n.a.createElement("p",null,n.a.createElement("span",null,"Time"),": ",n.a.createElement(R.a,{format:"HH:mm"},t.date)),n.a.createElement("p",null,n.a.createElement("span",null,"Description"),": ",t.description),n.a.createElement("p",null,n.a.createElement("span",null,"Location"),": ",t.location)),n.a.createElement("div",{className:"meeting-buttons col-3"},r&&a!==r.owner.id&&!t.attending.includes(a)&&void 0!==r.collaborators.find(function(e){return e.id===a})?n.a.createElement(b.Button,{color:"blue",type:"button",onClick:function(){return o(t.id)}},"Attend"):null,r&&a!==r.owner.id&&t.attending.includes(a)?n.a.createElement("div",null,n.a.createElement(b.Button,{color:"red",onClick:function(){return c(t.id)},type:"button"},"Cancel Attendance")):null)):null},X=(r(234),function(e){var t=e.collaborator,r=e.clickName,a=e.userId,o=e.ownerId,c=e.removeCollaborator;return t?n.a.createElement("div",{className:"collab-card col-3"},n.a.createElement("img",{src:t.profileImage,alt:"profile"}),n.a.createElement("p",{onClick:function(){return r(void 0,t.id)}},t.name),a===o&&n.a.createElement("button",{className:"remove-collab-button",onClick:function(){return c(t.id)}},"Remove")):null}),ee=(r(236),function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={meeting:null,error:!1},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;try{E.a.retrieveMeetingInfo(e.meetingId).then(function(e){return t.setState({meeting:e,error:!1})}).catch(function(e){return t.setState({error:e.message})})}catch(r){this.setState({error:r.message})}}},{key:"componentDidMount",value:function(){var e=this;try{E.a.retrieveMeetingInfo(this.props.meetingId).then(function(t){return e.setState({meeting:t,error:!1})}).catch(function(t){return e.setState({error:t.message})})}catch(t){this.setState({error:t.message})}}},{key:"render",value:function(){var e=this,t=this.state.meeting;return n.a.createElement("div",{className:"attendees-list"},t&&t.attending.map(function(t,r){return n.a.createElement(S.a,{to:"/profile/".concat(t.id)}," ",n.a.createElement("p",{onClick:e.props.clickName,key:r},t.name))}),this.state.error&&n.a.createElement(k,{message:this.state.error}))}}]),t}(a.Component)),te=Object(f.a)(ee),re=function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={modal:!1},r.toggle=function(){r.setState({modal:!r.state.modal})},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.modal,t=this.props.meetingId,r=this.toggle;return n.a.createElement(b.Container,null,n.a.createElement(b.Button,{color:"blue",onClick:r},"View Attendees"),n.a.createElement(b.Modal,{isOpen:e,toggle:r},n.a.createElement(b.ModalHeader,{toggle:r},"View Attendees"),n.a.createElement(b.ModalBody,null,n.a.createElement(te,{clickName:this.clickProfileName,meetingId:t,toggle:r})),n.a.createElement(b.ModalFooter,null,n.a.createElement(b.Button,{color:"secondary",onClick:r},"Close")," ")))}}]),t}(a.Component),ae=function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={project:null,meetings:null,user:null,projectImage:null,commonInterestToggle:!1,error:!1,loading:!1},r.acceptCollabHandle=function(e){try{return E.a.handleCollaboration(r.state.project.id,"accept",e).then(function(){return E.a.retrieveProjectInfo(r.props.id)}).then(function(e){return r.setState({project:e,error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(t){r.setState({error:t.message})}},r.rejectCollabHandle=function(e){try{return E.a.handleCollaboration(r.state.project.id,"reject",e).then(function(){return E.a.retrieveProjectInfo(r.props.id)}).then(function(e){return r.setState({project:e,error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(t){r.setState({error:t.message})}},r.handleDeleteMeeting=function(e){try{return E.a.deleteMeeting(e).then(function(){return E.a.listProjectMeetings(r.props.id)}).then(function(e){return r.setState({meetings:e,error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(t){r.setState({error:t.message})}},r.handleAttendMeeting=function(e){try{return E.a.attendMeeting(e).then(function(){return E.a.listProjectMeetings(r.props.id)}).then(function(e){return r.setState({meetings:e,error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(t){r.setState({error:t.message})}},r.handleUnAttendMeeting=function(e){try{return E.a.unAttendMeeting(e).then(function(){return E.a.listProjectMeetings(r.props.id)}).then(function(e){return r.setState({meetings:e,error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(t){r.setState({error:t.message})}},r.handleDeleteProject=function(){try{var e=r.props,t=e.userId,a=e.id;return E.a.deleteProject(t,a).then(function(){return r.props.history.push("/home")}).catch(function(e){return r.setState({error:e.message})})}catch(n){r.setState({error:n.message})}},r.handleLeaveProject=function(){var e=r.props.id;try{return E.a.leaveProject(e).then(function(){return E.a.retrieveProjectInfo(r.props.id)}).then(function(e){return r.setState({project:e,error:!1})}).then(function(){return E.a.listProjectMeetings(r.props.id)}).then(function(e){return r.setState({meetings:e,error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(t){r.setState({error:t.message})}},r.handleRequestCollaboration=function(){var e=r.props,t=e.id,a=e.userId;try{return E.a.requestCollaboration(t,a).then(function(){return E.a.retrieveProjectInfo(r.props.id)}).then(function(e){return r.setState({project:e,error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(n){r.setState({error:n.message})}},r.handleCancelCollaboration=function(){var e=r.props,t=e.id,a=e.userId;try{return E.a.cancelCollaborationRequest(t,a).then(function(){return E.a.retrieveProjectInfo(r.props.id)}).then(function(e){return r.setState({project:e,error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(n){r.setState({error:n.message})}},r.handleSaveProject=function(){var e=r.props,t=e.id,a=e.userId;try{return E.a.saveProject(t,a).then(function(){return E.a.retrieveProjectInfo(t)}).then(function(e){return r.setState({project:e,error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(n){r.setState({error:n.message})}},r.handleUnFollowProjects=function(){var e=r.props,t=e.id,a=e.userId;try{return E.a.removeSavedProject(t,a).then(function(){return E.a.retrieveProjectInfo(t)}).then(function(e){return r.setState({project:e,error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(n){r.setState({error:n.message})}},r.handleSearchTag=function(e){var t="q=&f=".concat(e);r.props.history.push("/explore/".concat(t))},r.handleRemoveCollaborator=function(e){try{return E.a.removeCollaborator(e,r.props.id).then(function(){return E.a.retrieveProjectInfo(r.props.id)}).then(function(e){return r.setState({project:e,error:!1})}).catch(function(e){return r.setState({error:e.message})})}catch(t){r.setState({error:t.message})}},r.renderCollabButtons=function(){var e=Object(D.a)(Object(D.a)(r)),t=e.state.project,a=e.props.userId;if(t)return t.collaborators.some(function(e){return e.id===a})?n.a.createElement("div",{className:"project-page-new-meeting"},n.a.createElement(b.Button,{color:"red",onClick:r.handleLeaveProject},"Leave project")):t.collaborators.some(function(e){return e.id===a})||t.pendingCollaborators.some(function(e){return e.id===a})?n.a.createElement("div",{className:"project-page-request-collaborate"},n.a.createElement(b.Button,{color:"red",onClick:r.handleCancelCollaboration},"Cancel collaboration request")):n.a.createElement("div",{className:"project-page-new-meeting"},n.a.createElement(b.Button,{color:"blue",onClick:r.handleRequestCollaboration},"Collaborate now"))},r.clickProfileName=function(e,t){t?r.props.history.push("/profile/".concat(t)):r.props.history.push("/profile/".concat(r.state.project.owner.id))},r.calculateCommonInterests=function(){var e=r.state.project;if(e){var t=e.skills.filter(function(t){return-1!==e.viewerSkills.indexOf(t)});return t.length?"Matches with ".concat(100*(t.length/e.viewerSkills.length).toFixed(2),"% of your interests"):"does not match with any of your interests :("}},r.renderCapacityCircles=function(){var e=r.state.project;if(e){for(var t=[],a=0;a<parseInt(e.maxMembers);a++)t.push(n.a.createElement("i",{key:a,className:"fa fa-circle-o","aria-hidden":"true"}));for(a=0;a<parseInt(e.currentMembers);a++)t[a]=n.a.createElement("i",{key:a,className:"fa fa-circle","aria-hidden":"true"});return t}},r.toggleCommonInterests=function(){r.setState({commonInterestToggle:!r.state.commonInterestToggle})},r.uploadImage=function(e){try{return r.setState({loading:!0}),E.a.addProjectImage(e.target.files[0],r.props.id).then(function(){return r.setState({loading:!1})}).then(function(){return E.a.retrieveProjectInfo(r.props.id).then(function(e){return r.setState({project:e,error:!1})}).catch(function(e){return r.setState({error:e.message})})})}catch(t){r.setState({error:t.message})}},r.renderFavouritesButtons=function(){var e=Object(D.a)(Object(D.a)(r)),t=e.state.project,a=e.props,o=a.userId,c=a.id;if(t){if(t.viewerSavedProjects.includes(c)&&!t.collaborators.some(function(e){return e.id===o}))return n.a.createElement("div",{className:"project-page-new-meeting"},n.a.createElement("button",{className:"common-interests-display",onClick:r.handleUnFollowProjects},n.a.createElement("i",{className:"fa fa-heart","aria-hidden":"true"})),n.a.createElement("p",null,"Project saved"));if(!t.viewerSavedProjects.includes(c)&&!t.collaborators.some(function(e){return e.id===o}))return n.a.createElement("div",{className:"project-page-new-meeting"},n.a.createElement("button",{className:"common-interests-display",onClick:r.handleSaveProject},n.a.createElement("i",{className:"fa fa-heart-o","aria-hidden":"true"})),n.a.createElement("p",null,"Save project"))}},r.getImageId=function(){if(r.state.project)return r.state.project.projectImage},r.handleAddNewEvent=function(){r.props.history.push("/create-event/".concat(r.props.id))},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;try{return E.a.retrieveProjectInfo(this.props.id).then(function(t){return e.setState({project:t,error:!1})}).then(function(){return E.a.listProjectMeetings(e.props.id)}).then(function(t){return e.setState({meetings:t,error:!1})}).then(function(){return E.a.retrieveProjectImage(e.props.userId,e.props.id)}).then(function(t){return e.setState({projectImage:t,error:!1})}).catch(function(t){return e.setState({error:t.message})})}catch(t){this.setState({error:t.message})}}},{key:"render",value:function(){var e=this,t=this.state,r=t.project,a=t.meetings,o=t.commonInterestToggle;return n.a.createElement("div",{className:"project-page-container"},this.state.error&&n.a.createElement(k,{message:this.state.error}),n.a.createElement("header",{className:"project-top-section row"},n.a.createElement("div",{className:"project-image-container col-md-3"},n.a.createElement("h1",{className:"project-name-mobile"},r&&r.name),n.a.createElement("div",{className:"spinner"},this.state.loading?n.a.createElement(J.a,null):""),n.a.createElement("div",{className:"container__image--project"},n.a.createElement("div",{className:"project__image-box"},n.a.createElement("img",{className:"project__image",alt:"project",src:r?r.projectImage:null}))),r&&this.props.userId===r.owner.id&&n.a.createElement("form",{encType:"multipart/form-data",onSubmit:this.uploadImage},n.a.createElement("label",{className:"profileImage-upload"},n.a.createElement("input",{className:"uploadImage-input",type:"file",name:"avatar",onChange:this.uploadImage}),"Edit image"))),n.a.createElement("div",{className:"project-page-header-additional-info col-md-4",align:"center"},n.a.createElement("h1",{className:"project-name"},r&&r.name),n.a.createElement("div",{className:"owner-photo-and-extra-info row"},n.a.createElement("div",{className:"container__image--host-profile"},n.a.createElement("div",{className:"host-profile__image-box"},n.a.createElement("img",{className:"host-profile__image",src:r&&r.owner.profileImage,alt:"profile"}))),n.a.createElement("div",{className:"owner-name-and-email col-md-9"},n.a.createElement("span",null,"Hosted by"),n.a.createElement("p",{className:"project-page-header-additional-info__user-link",onClick:this.clickProfileName},r&&r.owner.name),n.a.createElement("span",null,"Host email:"),r&&r.owner.email))),n.a.createElement("div",{className:"project-page-header-collab-and-favourites col-md-5"},r&&!(this.props.userId===r.owner.id)&&this.renderCollabButtons(),r&&!(this.props.userId===r.owner.id)&&this.renderFavouritesButtons(),r&&this.props.userId===r.owner.id?n.a.createElement("div",{className:"project-page-new-meeting"},n.a.createElement(b.Button,{color:"blue",onClick:this.handleAddNewEvent},"Add a new event")):null,r&&this.props.userId===r.owner.id?n.a.createElement("div",{className:"project-page-new-meeting"},n.a.createElement(b.Button,{color:"red",onClick:this.handleDeleteProject},"Delete project")):null)),n.a.createElement("section",{className:"project-page-main-section-container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-5"},n.a.createElement("section",{className:"project-page-project-info col-md-12"},n.a.createElement("h2",null,"Project Details"),n.a.createElement("h3",null,"Location"),n.a.createElement("p",null,r&&r.location),n.a.createElement("h3",null,"Description"),n.a.createElement("p",null,r&&r.description),n.a.createElement("h3",null,"Capacity"),n.a.createElement("p",null,r&&r.maxMembers!=r.currentMembers&&this.renderCapacityCircles()),r&&r.maxMembers==r.currentMembers?n.a.createElement("p",null,"Project is full"):null,n.a.createElement("h3",null,"Tech stack used"),r&&r.skills.map(function(t,a){return n.a.createElement(w,{searchTag:e.handleSearchTag,key:a,skill:t,viewerSkills:r.viewerSkills})}),n.a.createElement("button",{onClick:this.toggleCommonInterests,className:"common-interests-display"},n.a.createElement("i",{className:"fa fa-question-circle","aria-hidden":"true"})),n.a.createElement("p",null,o&&this.calculateCommonInterests())),n.a.createElement("section",{className:"project-page-collaborators col-md-12"},n.a.createElement("h1",null,"Current Collaborators"),n.a.createElement("div",{className:"project-page-collaborators-display row"},r&&r.collaborators.length?r.collaborators.map(function(t,a){return n.a.createElement(X,{clickName:e.clickProfileName,collaborator:t,key:a,userId:e.props.userId,ownerId:r.owner.id,removeCollaborator:e.handleRemoveCollaborator})}):n.a.createElement("p",null,"This project currently doesn't have any collaborators")),r&&this.props.userId===r.owner.id?n.a.createElement("section",{className:"project-page-pending-collaborators"},n.a.createElement($,{clickName:this.clickProfileName,accept:this.acceptCollabHandle,reject:this.rejectCollabHandle,pendingCollabs:r.pendingCollaborators})):null)),n.a.createElement("div",{className:"current-and-pending-collaborators col-md-6"},n.a.createElement("section",{className:"project-page-meetings col-md-12"},n.a.createElement("h2",null,"Upcoming Meetings"),a&&a.length?a.sort(function(e,t){return e.realDate-t.realDate}).map(function(t,a){return n.a.createElement("div",{className:"individual-meeting-container col-md-10",key:a},n.a.createElement(K,{unAttendMeeting:e.handleUnAttendMeeting,attendMeeting:e.handleAttendMeeting,userId:e.props.userId,key:a,meeting:t,project:r}),n.a.createElement(re,{clickName:e.clickProfileName,meetingId:t.id}),r.owner.id===e.props.userId&&n.a.createElement(b.Button,{onClick:function(){return e.handleDeleteMeeting(t.id)},color:"red"},"Delete"))}):n.a.createElement("p",null,"This event doesn't have any upcoming meetings"))))))}}]),t}(a.Component),ne=Object(f.a)(ae),oe=r(119),ce=(r(277),r(279),function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={startDate:new Date,description:"",location:"",error:null},r.handleSubmit=function(e){e.preventDefault();var t=r.state,a=t.startDate,n=t.description,o=t.location;try{return E.a.addMeeting(r.props.userId,r.props.id,a,o,n).then(function(){return r.props.history.push("/project/".concat(r.props.id))}).catch(function(e){return r.setState({error:e.message})})}catch(c){r.setState({error:c.message})}},r.handleChange=function(e){r.setState({startDate:e})},r.onDescriptionChange=function(e){e.preventDefault();var t=e.target.value;r.setState({description:t})},r.onLocationChange=function(e){e.preventDefault();var t=e.target.value;r.setState({location:t})},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"create-meeting-container col-sm-11 col-md-7"},this.state.error&&n.a.createElement(k,{message:this.state.error}),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("label",null,"What is the main goal of this meeting?"),n.a.createElement(b.Input,{type:"textarea",onChange:this.onDescriptionChange,id:"exampleForm2",className:"form-control",rows:"3"}),n.a.createElement("label",null,"Location"),n.a.createElement(b.Input,{onChange:this.onLocationChange,type:"text",cid:"exampleForm2",className:"form-control"}),n.a.createElement("label",null,"Pick a date for your meeting")," ",n.a.createElement("br",null),n.a.createElement(oe.a,{selected:this.state.startDate,onChange:this.handleChange,showTimeSelect:!0,dateFormat:"Pp"})," ",n.a.createElement("br",null),n.a.createElement(b.Button,{type:"submit"},"Create Meeting")))}}]),t}(a.Component)),se=Object(f.a)(ce),ie=(r(281),function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isOpen:!1,selected:{home:!1,explore:!1,profile:!1},pendingNotifications:0,sendToConversation:!1,name:""},r.onLogoClick=function(){return r.props.history.push("/home")},r.onHomeClick=function(){r.state.isOpen?r.setState({isOpen:!r.state.isOpen},function(){return r.props.history.push("/home")}):r.props.history.push("/home")},r.onExploreClick=function(){r.state.isOpen?r.setState({isOpen:!r.state.isOpen},function(){return r.props.history.push("/explore")}):r.props.history.push("/explore")},r.onProfileClick=function(){r.state.isOpen?r.setState({isOpen:!r.state.isOpen},function(){return r.props.history.push("/profile/".concat(r.props.userId))}):r.props.history.push("/profile/".concat(r.props.userId))},r.handleLogout=function(){E.a.logout(),r.props.history.push("/"),r.setState({name:""},function(){return r.props.history.push("/")}),window.location.reload(!0)},r.renderMessageIcon=function(){var e=r.state,t=e.sendToConversation,a=e.pendingNotifications;if(t){if(t.length&&0!==a)return n.a.createElement(S.a,{to:"/messages/".concat(t[0][1].conversationId,"/").concat(t[0][0].id)},n.a.createElement("button",{className:"navbar__button"},n.a.createElement("div",{className:"message-notification-container"},n.a.createElement("i",{className:"fa fa-envelope","aria-hidden":"true"}),n.a.createElement("span",{className:"badge badge-danger"},a))));if(t.length&&0===a)return n.a.createElement(S.a,{to:"/messages/".concat(t[0][1].conversationId,"/").concat(t[0][0].id)},n.a.createElement("button",{className:"navbar__button"},n.a.createElement("div",{className:"message-notification-container"},n.a.createElement("i",{className:"fa fa-envelope","aria-hidden":"true"}))))}},r.toggleCollapse=function(){return r.setState({isOpen:!r.state.isOpen})},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.a.listConversations().then(function(t){var r=0;t.forEach(function(e){return r=e[1].pendingMessages+r}),e.setState({sendToConversation:t,pendingNotifications:r})}),E.a.retrieveUserProfile(this.props.userId).then(function(t){e.setState({name:t.name})})}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(E.a.listConversations().then(function(e){var r=0;e.forEach(function(e){return r=e[1].pendingMessages+r}),t.setState({sendToConversation:e,pendingNotifications:r})}),E.a.retrieveUserProfile(this.props.userId).then(function(e){t.setState({name:e.name})}),e.location.pathname.indexOf("home")>=0){this.setState({selected:{home:!0,explore:!1,profile:!1}})}else if(e.location.pathname.indexOf("explore")>=0){this.setState({selected:{home:!1,explore:!0,profile:!1}})}else if(e.location.pathname.indexOf("profile")>=0){this.setState({selected:{home:!1,explore:!1,profile:!0}})}else if(e.location.pathname.indexOf("messages")>=0)if(e.pendingNotifications!==this.state.pendingNotifications)this.setState({pendingNotifications:e.pendingNotifications});else{this.setState({selected:{home:!1,explore:!1,profile:!1}})}}},{key:"render",value:function(){var e=this.state,t=e.selected,r=e.isOpen;return n.a.createElement(b.Navbar,{color:"indigo",dark:!0,expand:"md"},n.a.createElement(b.NavbarBrand,null,n.a.createElement("button",{className:"navbar__button",onClick:this.onLogoClick},n.a.createElement("strong",{className:"white-text"},"SocialDev"))),n.a.createElement(b.NavbarToggler,{onClick:this.toggleCollapse}),n.a.createElement(b.Collapse,{id:"navbarCollapse3",isOpen:r,navbar:!0},n.a.createElement(b.NavbarNav,null,n.a.createElement(b.NavItem,null,n.a.createElement("button",{onClick:this.onHomeClick,className:t.home?"navbar__button-selected":"navbar__button",type:"button"},"Home")),n.a.createElement(b.NavItem,null,n.a.createElement("button",{onClick:this.onExploreClick,className:t.explore?"navbar__button-selected":"navbar__button",type:"button"},"Explore")),n.a.createElement(b.NavItem,null,n.a.createElement("button",{onClick:this.onProfileClick,className:t.profile?"navbar__button-selected":"navbar__button",type:"button"},"Profile")),n.a.createElement(b.NavItem,null,this.renderMessageIcon()),n.a.createElement(b.NavItem,null,n.a.createElement("span",{className:"name"},"Welcome ",this.state.name?this.state.name:null)),n.a.createElement(b.NavItem,null,n.a.createElement("button",{onClick:this.handleLogout,className:"navbar__button",type:"button"},"Logout")))))}}]),t}(n.a.Component)),le=Object(f.a)(ie),ue=r(75),me=(r(283),function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={message:"",receiverName:"",messages:!1,conversations:!1,totalPendingMessages:0,receiverImage:"",error:null},r.handleSendMessage=function(e){e.preventDefault(),r.props.pendingNotifications(r.state.totalPendingMessages);try{return E.a.sendMessage(r.props.userId,r.props.receiverId,r.state.message).then(function(){return E.a.listMessages(r.props.receiverId)}).then(function(e){return r.setState({messages:e.messages,message:"",error:null})}).then(function(){return E.a.listConversations()}).then(function(e){var t=0;e.forEach(function(e){return t=e[1].pendingMessages+t}),r.props.pendingNotifications(t),r.setState({conversations:e,totalPendingMessages:t,error:null})}).catch(function(e){return r.setState({error:e.message})})}catch(t){r.setState({error:t.message})}},r.scrollToBottom=function(){var e=r.refs.messageList,t=e.scrollHeight-e.clientHeight;o.findDOMNode(e).scrollTop=t>0?t:0},r.onMessageChange=function(e){var t=e.target.value;r.setState({message:t})},r.renderMessageTicks=function(e){return"read"===e.status?n.a.createElement("div",null,n.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),n.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"})):n.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"})},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;try{this.props.id&&this.props.receiverId&&E.a.findConversation(this.props.receiverId).then(function(t){var r=t.members.find(function(t){return t.id!==e.props.userId});e.setState({receiverName:r.username,receiverImage:r.profileImage,error:null})}).then(function(){return E.a.listConversations()}).then(function(t){var r=0;t.forEach(function(e){return r=e[1].pendingMessages+r}),e.props.pendingNotifications(r),e.setState({conversations:t,error:null})}).then(function(){return E.a.listMessages(e.props.receiverId)}).then(function(t){e.setState({messages:Object(ue.a)(t.messages),error:null},function(){e.scrollToBottom()})}).catch(function(t){return e.setState({error:t.message})})}catch(t){this.setState({error:t.message})}}},{key:"componentWillReceiveProps",value:function(e){var t=this;try{e.receiverId!==this.props.receiverId&&e.id&&e.receiverId&&E.a.findConversation(e.receiverId).then(function(r){var a=r.members.find(function(t){return t.id!==e.userId});t.setState({receiverName:a.username,receiverImage:a.profileImage,error:null})}).then(function(){return E.a.listMessages(e.receiverId)}).then(function(e){t.setState({messages:Object(ue.a)(e.messages),error:null},function(){return t.scrollToBottom()})}).then(function(){return E.a.listConversations()}).then(function(e){var r=0;e.forEach(function(e){return r=e[1].pendingMessages+r}),t.props.pendingNotifications(r),t.setState({conversations:e,totalPendingMessages:r,error:null})}).catch(function(e){return t.setState({error:e.message})})}catch(r){this.setState({error:r.message})}}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e=this,t=this.state,r=t.messages,a=t.conversations,o=t.receiverImage,c=t.error;return n.a.createElement("section",{className:"chat"},c&&n.a.createElement(k,{message:c}),n.a.createElement("div",{className:"conversation-page-container row"},n.a.createElement("div",{className:"conversations-list col-lg-4 col-xs-12"},n.a.createElement("h2",null,"Chats"),a&&a.sort(function(e,t){return t[1].lastMessage-e[1].lastMessage}).map(function(t,r){return n.a.createElement("div",{key:r,className:e.state.receiverName===t[0].username?"conversation-card-chatroom-selected":"conversation-card-chatroom"},n.a.createElement("img",{src:t[0].profileImage,alt:"profile"}),n.a.createElement(S.a,{to:"/messages/".concat(t[1].conversationId,"/").concat(t[0].id)},t[0].username),n.a.createElement("span",{className:"badge light-blue badge-light-blue badge-pill"},t[1].pendingMessages))})),n.a.createElement("div",{className:"container-chat-and-input col-lg-6 col-xs-12"},n.a.createElement("div",{className:"container-chat"},n.a.createElement("div",{className:"title"},n.a.createElement("h2",null,n.a.createElement("img",{className:"profile-image-chat",alt:"profile",src:o})," ",n.a.createElement(S.a,{to:"/profile/".concat(this.props.receiverId)},this.state.receiverName))),n.a.createElement("div",{id:"messages",ref:"messageList"},r&&r.map(function(t,r){return t.sender!=e.props.userId?n.a.createElement("div",{key:r,className:"msg-left"},n.a.createElement("div",{className:"message-body "}," ",t.text),n.a.createElement("div",{className:"message-date"},"  ",n.a.createElement(R.a,{format:"DD/MM/YYYY HH:mm"},t.sent))):n.a.createElement("div",{key:r,className:"msg-right"},n.a.createElement("div",{className:"message-body"}," ",t.text),n.a.createElement("div",{className:"message-date-right"},"  ",n.a.createElement(R.a,{format:"DD/MM/YYYY HH:mm"},t.sent)),e.renderMessageTicks(t))}))),n.a.createElement("div",{className:"chatbox col-12"},n.a.createElement("form",{className:"chat-input-form",onSubmit:this.handleSendMessage},n.a.createElement("div",{className:"chat-bottom-area row"},n.a.createElement("div",{className:"col-9"},n.a.createElement("input",{className:"chat-input",onChange:this.onMessageChange,value:this.state.message,placeholder:"Type your message and hit enter!",id:"chat-input"})),n.a.createElement("div",{className:"col-3"},n.a.createElement("button",{className:"chat-send-button",type:"submit"},"Send"))))))))}}]),t}(a.Component)),he=Object(f.a)(me);E.a.url="https://shielded-chamber-15987.herokuapp.com/api";var pe=function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={error:null,userId:null,pendingNotifications:0,username:""},r.handleRegisterClick=function(){r.props.history.push("/register")},r.handleLoginClick=function(){r.props.history.push("/login")},r.handleSkipToLogin=function(){r.props.history.push("login"),r.setState({error:null})},r.handleSkipToRegister=function(){r.props.history.push("/register"),r.setState({error:null})},r.handleRegister=function(e,t,a,n){try{E.a.registerUser(e,t,a,n).then(function(){return r.setState({error:null},r.props.history.push("/login"))}).catch(function(e){return r.setState({error:e.message})})}catch(o){r.setState({error:o.message})}},r.handleLogin=function(e,t){try{E.a.authenticate(e,t).then(function(e){r.setState({error:null,userId:e.data.id},r.props.history.push("/home"))}).catch(function(e){return r.setState({error:e.message})})}catch(a){r.setState({error:a.message})}},r.handleUserName=function(e){r.setState({username:e})},r.handlePendingNotifications=function(e){r.setState({pendingNotifications:e})},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({userId:E.a.userId})}},{key:"render",value:function(){var e=this,t=this.state,r=t.error,a=t.userId,o=t.pendingNotifications,c=t.username;return n.a.createElement("div",{className:"App"},E.a.loggedIn&&n.a.createElement(le,{name:c,pendingNotifications:o,userId:a}),n.a.createElement(h.a,null,n.a.createElement(p.a,{exact:!0,path:"/",render:function(){return E.a.loggedIn?n.a.createElement(d.a,{to:"/home"}):n.a.createElement(v,{onRegisterClick:e.handleRegisterClick,onLoginClick:e.handleLoginClick})}}),n.a.createElement(p.a,{path:"/register",render:function(){return E.a.loggedIn?n.a.createElement(d.a,{to:"/home"}):n.a.createElement(y,{onRegister:e.handleRegister,onSkipToLogin:e.handleSkipToLogin})}}),n.a.createElement(p.a,{path:"/login",render:function(){return E.a.loggedIn?n.a.createElement(d.a,{to:"/home"}):n.a.createElement(j,{onLogin:e.handleLogin,onSkipToRegister:e.handleSkipToRegister})}}),n.a.createElement(p.a,{path:"/home",render:function(){return E.a.loggedIn?n.a.createElement(O,{userName:e.handleUserName,userId:a}):n.a.createElement(d.a,{to:"/"})}}),n.a.createElement(p.a,{path:"/explore/:query",render:function(e){return E.a.loggedIn?n.a.createElement(B,{userId:a,query:e.match.params.query}):n.a.createElement(d.a,{to:"/explore"})}}),n.a.createElement(p.a,{path:"/explore",render:function(){return E.a.loggedIn?n.a.createElement(B,{userId:a}):n.a.createElement(d.a,{to:"/"})}}),n.a.createElement(p.a,{path:"/project/:id",render:function(e){return E.a.loggedIn?n.a.createElement(ne,{userId:a,id:e.match.params.id}):n.a.createElement(d.a,{to:"/"})}}),n.a.createElement(p.a,{path:"/profile/:id",render:function(e){return E.a.loggedIn?n.a.createElement(V,Object.assign({userId:a},e,{id:e.match.params.id})):n.a.createElement(d.a,{to:"/"})}}),n.a.createElement(p.a,{path:"/create-event/:id",render:function(e){return E.a.loggedIn?n.a.createElement(se,{userId:a,id:e.match.params.id}):n.a.createElement(d.a,{to:"/"})}}),n.a.createElement(p.a,{path:"/messages/:id/:receiverid",render:function(t){return E.a.loggedIn?n.a.createElement(he,{pendingNotifications:e.handlePendingNotifications,userId:a,receiverId:t.match.params.receiverid,id:t.match.params.id}):n.a.createElement(d.a,{to:"/"})}})),r&&n.a.createElement(k,{message:r}))}}]),t}(a.Component),de=Object(f.a)(pe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(285),r(287),r(289);var fe=r(94);c.a.render(n.a.createElement(fe.a,null,n.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[120,2,1]]]);
//# sourceMappingURL=main.b4b21435.chunk.js.map